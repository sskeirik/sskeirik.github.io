<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tags on srs.fyi</title>
    <link>https://srs.fyi/tags/</link>
    <description>Recent content in Tags on srs.fyi</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    
	<atom:link href="https://srs.fyi/tags/index.xml" rel="self" type="application/rss+xml" />
    
    
    
    <item>
      <title>See Conversions</title>
      <link>https://srs.fyi/see-conversions/</link>
      <pubDate>Thu, 19 Feb 2026 22:57:00 -0400</pubDate>
      
      <guid>https://srs.fyi/see-conversions/</guid>
      <description>&lt;p&gt;I recently&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; stumbled across an interesting C function.
The function was quite simple&amp;ndash;just a few lines long&amp;mdash;so I was sure I understood it.
And yet, the function produced unexpected results&amp;mdash;and I could not understand why.
Debugging this tiny function led me down the dark hole that is implicit type conversions in C.
I have reproduced the function in its entirety below (with a 2-line modification to make the output more readable for this post).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// requires bytes+0 to bytes+sz are valid memory addresses
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%02x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To avoid making this post too long&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;, I assume the reader is familiar with &lt;a href=&#34;https://en.wikipedia.org/wiki/Hexadecimal&#34;&gt;hexadecimal notation&lt;/a&gt; and C language &lt;a href=&#34;https://en.cppreference.com/w/c/language/escape.html&#34;&gt;string escape sequences&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;From first glance, we can see this this function will misbehave if the memory region argument is invalid.
But if we do that, that&amp;rsquo;s on us&amp;mdash;we failed to respect the contract of this function.&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;Here is a complete example program containing this function that applies it to a few test vectors.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// requires bytes+0 to bytes+sz are valid memory addresses
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%02x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;     &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// empty string
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;   &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\x00&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// singleton; smallest possible byte value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;   &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\x01&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// singleton; smallest + 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;   &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\xff&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// singleton; largest possible byte value
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;   &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\xfe&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// singleton; largest - 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;What text do you expect this function will print?
To avoid confusion, let&amp;rsquo;s assume we&amp;rsquo;re running this program on a standard x86-64 Linux box.&lt;/p&gt;
&lt;p&gt;Take your time and think about it for a second.&lt;/p&gt;
&lt;details&gt;
&lt;summary&gt;
&lt;u&gt;If you need a hint, you can consult my mini-explainer of format strings by clicking here.&lt;/u&gt;
&lt;/summary&gt;
&lt;p&gt;An altogether-too-brief introduction to format strings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;printf&lt;/code&gt; family of functions all are designed to print formatted text to a buffer or file.&lt;/li&gt;
&lt;li&gt;Their first argument is always a &lt;em&gt;format string&lt;/em&gt; that contains 0 or more &lt;em&gt;conversion specifications&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;A &lt;em&gt;conversion specification&lt;/em&gt; tells &lt;code&gt;printf&lt;/code&gt; how to process a particular argument.&lt;/li&gt;
&lt;li&gt;If the &lt;em&gt;format string&lt;/em&gt; has &lt;em&gt;N&lt;/em&gt; conversion specifications, the &lt;code&gt;printf&lt;/code&gt; call should have &lt;em&gt;N&lt;/em&gt; arguments (excluding the format string itself).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Example:&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;player&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;101&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%s scored %u point(s)!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;player&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// prints: &amp;#34;Bob scored 101 point(s)!&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Our example had two conversion specifications:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;%s&lt;/code&gt; - which prints its corresponding argument as a string;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%u&lt;/code&gt; - which prints its corresponding argument as an unsigned &lt;em&gt;decimal&lt;/em&gt; integer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In general, conversion specifications have the following structure:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;%[flags][width][precision][typesize]&amp;lt;conversion&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;where:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a literal &lt;code&gt;%&lt;/code&gt; symbol appears first;&lt;/li&gt;
&lt;li&gt;arguments in angle (resp. square) brackets are &lt;em&gt;required&lt;/em&gt; (resp. &lt;em&gt;optional&lt;/em&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In our example program above, the conversion specification &lt;code&gt;%02x&lt;/code&gt; can be parsed as follows:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;%02x
|||`- converts argument to an `unsigned int` and prints as a hexadecimal
||`-- minimum width 2 characters
|`--- optional flag 0 --- pad result with leading zeroes
`---- this symbol introduces a conversion specification
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So, to summarize, this conversion specification will:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;x&lt;/code&gt; - convert its argument to an unsigned int and print as hexadecimal;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2&lt;/code&gt; - using a minimum of 2 characters;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0&lt;/code&gt; - where the padding character is a &lt;code&gt;0&lt;/code&gt; instead of a space (&lt;code&gt; &lt;/code&gt;).&lt;/li&gt;
&lt;/ol&gt;
&lt;/details&gt;
&lt;br/&gt;
&lt;details&gt;
&lt;summary&gt; &lt;u&gt;When you&#39;re ready, click here to see what text this program prints. &lt;/u&gt; &lt;/summary&gt;
&lt;code&gt;
{}&lt;br/&gt;
{00}&lt;br/&gt;
{01}&lt;br/&gt;
{ffffffff}&lt;br/&gt;
{fffffffe}&lt;br/&gt;
&lt;/code&gt;
&lt;/details&gt;
&lt;br/&gt;
Finally, if you want an explanation of this behavior, read on!
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;hr&gt;
&lt;br/&gt;
&lt;p&gt;So, first things first: while the first two printed lines matched up with my expectations, the last two lines took me completely by surprise.
At first glance, it looks like the last two function calls, intended to print out a &lt;em&gt;single byte&lt;/em&gt;, somehow printed out &lt;em&gt;four&lt;/em&gt; bytes.
But how could that be?&lt;/p&gt;
&lt;p&gt;The ultimate explanation for this (unexpected to me) behavior boils down to the fact that the behavior of this C program is &lt;em&gt;implementation-defined&lt;/em&gt;!&lt;sup id=&#34;fnref:4&#34;&gt;&lt;a href=&#34;#fn:4&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;Why does this happen?
This unusual behavior ultimately arises due to four interrelated factors:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Two&amp;rsquo;s complement encoding&lt;/p&gt;
&lt;p&gt;All mainstream, modern, general-purpose computer architectures have a &lt;em&gt;binary&lt;/em&gt; memory (i.e., the smallest unit of memory is either 0 or 1)
and represent numbers in binary using the &lt;a href=&#34;https://en.wikipedia.org/wiki/Two%27s_complement&#34;&gt;&lt;em&gt;two&amp;rsquo;s complement encoding&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essentially, in this encoding, the most significant bit of a signed numeric type (called the &lt;em&gt;sign bit&lt;/em&gt;) is &lt;em&gt;negated&lt;/em&gt; while all other bits remain positive (like unsigned integers).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The signedness of type &lt;code&gt;char&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;While modern programmers may not think this way, the &lt;em&gt;C&lt;/em&gt; language standard actually defines &lt;em&gt;multiple, distinct&lt;/em&gt; &lt;code&gt;char&lt;/code&gt; types with different signedness!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Default argument promotions&lt;/p&gt;
&lt;p&gt;This mouthful of a phrase refers to a somewhat arcane corner of the &lt;em&gt;C&lt;/em&gt; standard.
When considering a variadic function,
what &lt;em&gt;type&lt;/em&gt; should its variadic parameters have in the function&amp;rsquo;s body?&lt;/p&gt;
&lt;p&gt;For example, given variadic function &lt;code&gt;int printf(const char*, ...)&lt;/code&gt;, suppose we make a function call
&lt;code&gt;printf(&amp;quot;%s scored %u point(s)!\n&amp;quot;, player, pts)&lt;/code&gt;.
In the body of &lt;code&gt;printf&lt;/code&gt;, what type should the formal parameter binding argument &lt;code&gt;player&lt;/code&gt; take on?
What about &lt;code&gt;pts&lt;/code&gt;?&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Signed-to-Unsigned Integer Conversion&lt;/p&gt;
&lt;p&gt;Given a signed integer value &lt;code&gt;i1&lt;/code&gt; of type &lt;code&gt;t1&lt;/code&gt; to be converted into unsigned type &lt;code&gt;t2&lt;/code&gt; with bit-width &lt;code&gt;b &amp;gt; 0&lt;/code&gt;, the process works as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If the &lt;code&gt;i1&lt;/code&gt; is within the range &lt;code&gt;[0,2^b)&lt;/code&gt;, then the result &lt;code&gt;i2 = i1&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;Otherwise, the result is &lt;code&gt;i2 = i1 + x*2^b&lt;/code&gt; for the unique&lt;sup id=&#34;fnref:5&#34;&gt;&lt;a href=&#34;#fn:5&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;5&lt;/a&gt;&lt;/sup&gt; integer &lt;code&gt;x&lt;/code&gt; such that &lt;code&gt;0 &amp;lt;= i2 &amp;lt; 2^b&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We&amp;rsquo;ll discuss each of these factors in detail below.&lt;/p&gt;
&lt;h3 id=&#34;twos-complement-encoding&#34;&gt;Two&amp;rsquo;s Complement Encoding&lt;/h3&gt;
&lt;p&gt;There isn&amp;rsquo;t much more to say about this encoding that hasn&amp;rsquo;t already been said.&lt;/p&gt;
&lt;p&gt;Thus, in this section, we&amp;rsquo;ll focus on a small example:
all 3 bit sequences written in a big-endian notation (i.e., with the most significant bit written first) and their two&amp;rsquo;s complement values:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Binary&lt;/th&gt;
&lt;th&gt;       &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;011&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;010&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;001&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;000&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;111&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;110&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;101&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;100&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;br/&gt;
&lt;details&gt;
&lt;summary&gt; If this is all gibberish to you, you can read more here. &lt;/summary&gt;
&lt;p&gt;To understand these values, there are a few important things to note:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Like I mentioned above, we &lt;em&gt;negate&lt;/em&gt; the value of the first (leftmost) bit.&lt;/li&gt;
&lt;li&gt;Since this is a big-endian binary string, we label each bit position, starting from the &lt;em&gt;right&lt;/em&gt;, as position 0, 1, 2, and so forth.&lt;/li&gt;
&lt;li&gt;Then the value of the bit &lt;code&gt;b&lt;/code&gt; in position &lt;code&gt;i&lt;/code&gt; is equal to &lt;code&gt;b * 2^i&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Finally, the value of an entire string is equal to the sum of values of each of its bits.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let&amp;rsquo;s stick with 3 bit strings like we used in the table above.
Given a 3-bit string &lt;code&gt;b2 b1 b0&lt;/code&gt;, its value will be equal to:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-(b2 * 2^2) + (b1 * 2^1) + (b0 * 2^0)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Again, note that we negated the value of the most significant bit.&lt;/p&gt;
&lt;p&gt;Using this template, we&amp;rsquo;ll work through one simple example.
By applying this template to concrete bit string &lt;code&gt;100&lt;/code&gt;, we obtain the expression:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-(1 * 2^2) + (0 * 2^1) + (0 * 2^0)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Simplifying the exponents, we get:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-(1 * 4) + (0 * 2) + (0 * 1)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Simplifying the multiplications gives:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-(4) + (0) + (0)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Finally, simplifying the additions gives &lt;code&gt;-4&lt;/code&gt;, as we claimed in our table above.&lt;/p&gt;
&lt;/details&gt;
&lt;h3 id=&#34;signedness-of-char&#34;&gt;Signedness of &lt;code&gt;char&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;How many versions of &lt;code&gt;char&lt;/code&gt; are there?
In fact, there are &lt;em&gt;three&lt;/em&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Type&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Numeric Range&lt;sup id=&#34;fnref:6&#34;&gt;&lt;a href=&#34;#fn:6&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;6&lt;/a&gt;&lt;/sup&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;em&gt;[0, 255]&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;em&gt;[-128, 127]&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;em&gt;either [0, 255] or [-128, 127]&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;However, on common platforms, the range of &lt;code&gt;char&lt;/code&gt; and &lt;code&gt;signed char&lt;/code&gt; have equal ranges.&lt;/p&gt;
&lt;p&gt;But why &lt;em&gt;three&lt;/em&gt; separate &lt;code&gt;char&lt;/code&gt; types?
These various types map to &lt;em&gt;three&lt;/em&gt; distinct ways that &lt;code&gt;char&lt;/code&gt;s are used in &lt;em&gt;C&lt;/em&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Designated &lt;code&gt;char&lt;/code&gt;-variants&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Usage&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;&lt;code&gt;signed char&lt;/code&gt;, &lt;code&gt;unsigned char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;signed/unsigned number (arithmetic) &lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;&lt;code&gt;unsigned char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;smallest uninterpreted unit of addressable memory&lt;sup id=&#34;fnref:7&#34;&gt;&lt;a href=&#34;#fn:7&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;7&lt;/a&gt;&lt;/sup&gt; &lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;&lt;code&gt;char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;br/&gt;character in an encoded string &lt;br/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Essentially, this extra type variant &lt;code&gt;char&lt;/code&gt; is intended to represent string data.
Modern systems languages may have a fourth variant explicitly for uninterpreted memory access to help keep things clear.
For example, in Golang, we have the following types:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Type&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Usage&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;uint8&lt;/code&gt;, &lt;code&gt;int8&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;signed/unsigned number (arithmetic)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;byte&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;alias for &lt;code&gt;uint8&lt;/code&gt; and smallest uninterpreted unit of addressable memory&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;rune&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;character in an encoded string&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Coming back to &lt;em&gt;C&lt;/em&gt;, note that other&lt;sup id=&#34;fnref:8&#34;&gt;&lt;a href=&#34;#fn:8&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;8&lt;/a&gt;&lt;/sup&gt; integer types can only be used for arithmetic purposes; they cannot be used &lt;em&gt;directly&lt;/em&gt; for representing strings&lt;sup id=&#34;fnref:9&#34;&gt;&lt;a href=&#34;#fn:9&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;9&lt;/a&gt;&lt;/sup&gt; or memory access&lt;sup id=&#34;fnref:10&#34;&gt;&lt;a href=&#34;#fn:10&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;10&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Signed Variant&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Unsigned Variant&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;short&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned short&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned int&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;long&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned long&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;long long&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned long long&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;default-argument-promotions&#34;&gt;Default Argument Promotions&lt;/h3&gt;
&lt;p&gt;Before we can define how default argument promotions, we have to dive into the details of variadic functions.
For brevity, we&amp;rsquo;ll skip some of the gory details; see &lt;a href=&#34;https://en.cppreference.com/w/c/variadic.html&#34;&gt;this cppreference page to get the full story&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&#34;variadic-functions&#34;&gt;Variadic Functions&lt;/h4&gt;
&lt;p&gt;According to the &lt;em&gt;C&lt;/em&gt; standard, variadic functions are declared by adding an ellipsis to the end of the formal parameter set.
For example, the declaration:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;describes a function with:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;exactly one required parameter of type &lt;code&gt;const char*&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;zero or more &lt;em&gt;variadic parameters&lt;/em&gt; of unspecified type.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To work with variadic parameters, there are four macros that are generally used:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;va_list&lt;/code&gt; - is the type of a variadic parameter set&lt;/li&gt;
&lt;li&gt;&lt;code&gt;va_start(va_list, identifier)&lt;/code&gt; - initializes the variadic parameter set&lt;/li&gt;
&lt;li&gt;&lt;code&gt;va_arg(va_list, T)&lt;/code&gt; - returns the value of the next variadic parameter (which must be compatible&lt;sup id=&#34;fnref:11&#34;&gt;&lt;a href=&#34;#fn:11&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;11&lt;/a&gt;&lt;/sup&gt; with &lt;code&gt;T&lt;/code&gt; or else the result is undefined)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;va_end(va_list)&lt;/code&gt; - finalizes the variadic parameter set&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let&amp;rsquo;s see an example program below:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdarg.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cnt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;...)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// declare the variable that stores the variadic parameter set
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;va_list&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// initialize the variadic parameter set
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// the second argument should be the name of the last
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// non-variadic formal parameter; in this case, cnt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nf&#34;&gt;va_start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cnt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cnt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// return the value of the next variadic parameter
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// (in this case, it must be compatible with type int)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;elt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;va_arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;elt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// finalize the variadic parameter set
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nf&#34;&gt;va_end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// should print:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Sums were 15, 7, 0, 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum4&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Sums were %d, %d, %d, %d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;There are some restrictions on the use of these macros; otherwise, the behavior of the program is undefined:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the first argument to &lt;code&gt;va_start&lt;/code&gt;, &lt;code&gt;va_arg&lt;/code&gt;, and &lt;code&gt;va_end&lt;/code&gt; must have type &lt;code&gt;va_list&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;va_arg&lt;/code&gt; can only be called after (resp. before) a corresponding call to &lt;code&gt;va_start&lt;/code&gt; (resp. &lt;code&gt;va_end&lt;/code&gt;);&lt;/li&gt;
&lt;li&gt;&lt;code&gt;va_arg&lt;/code&gt; may not be called more than &lt;em&gt;n&lt;/em&gt; times, where &lt;em&gt;n&lt;/em&gt; is the number of variadic arguments;&lt;/li&gt;
&lt;li&gt;if the _i_th call to has the form &lt;code&gt;va_arg(args, T)&lt;/code&gt;, then &lt;code&gt;T&lt;/code&gt; must be compatible with the &lt;em&gt;promoted type&lt;/em&gt; of the _i_th variadic argument;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This last point is the one we are interested in.&lt;/p&gt;
&lt;h4 id=&#34;variadic-parameters-and-default-argument-promotions&#34;&gt;Variadic Parameters and Default Argument Promotions&lt;/h4&gt;
&lt;p&gt;Consider the following call to &lt;code&gt;variadic_sum&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;first_arg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;second_arg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;first_arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;second_arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Is it well-defined?
The answer is &lt;em&gt;no&lt;/em&gt;, because:&lt;/p&gt;
&lt;p&gt;Since the first parameter &lt;code&gt;cnt == 2&lt;/code&gt;, the &lt;code&gt;va_arg&lt;/code&gt; macro will be called exactly twice, but&amp;hellip;
on second call to &lt;code&gt;va_arg(args, int)&lt;/code&gt;, the second variadic parameter has the value &lt;code&gt;2.0&lt;/code&gt; which, as a floating point value, is &lt;em&gt;not&lt;/em&gt; compatible with type &lt;code&gt;int&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But there is a missing detail here.
When a programmer declares some function &lt;code&gt;f&lt;/code&gt;, for each normal function parameter &lt;code&gt;p&lt;/code&gt;, the programmer must specify its type &lt;code&gt;T&lt;/code&gt;.
When compiling &lt;code&gt;f&lt;/code&gt;, for each such parameter &lt;code&gt;p&lt;/code&gt;, the compiler must allocate a chunk of memory &lt;code&gt;M&lt;/code&gt; (which may be a hardware register) that is large enough to store the value of &lt;code&gt;p&lt;/code&gt;.
How does the compiler know if the chunk &lt;code&gt;M&lt;/code&gt; is large enough?
It simply requires that &lt;code&gt;sizeof(M) &amp;gt;= sizeof(T)&lt;/code&gt;, that is to say, it consults the type &lt;code&gt;T&lt;/code&gt; of &lt;code&gt;p&lt;/code&gt; to determine its maximum size.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;But&lt;/em&gt;, when we declare a variadic function such as &lt;code&gt;int variadic_sum(unsigned int cnt, ...)&lt;/code&gt;, we aren&amp;rsquo;t told what the possible types of each variadic parameter might be.
Essentially, we have two options:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Allocate a fixed size chunk &lt;code&gt;M&lt;/code&gt; that is large enough for &lt;em&gt;most&lt;/em&gt; values and either report a compiler error or permit undefined behavior if &lt;code&gt;sizeOf(T) &amp;gt; sizeof(M)&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Dynamically&lt;/em&gt; allocate a memory chunk &lt;code&gt;M&lt;/code&gt; to accept the parameter &lt;code&gt;T&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The C standard adopts the latter rule, but with a twist, i.e., it applies &lt;em&gt;default argument promotions&lt;/em&gt; to variadic arguments.
Essentially, default argument promotions are a way reduce the number of possible cases to consider when dynamically allocating memory chunks &lt;code&gt;M&lt;/code&gt;.&lt;sup id=&#34;fnref:12&#34;&gt;&lt;a href=&#34;#fn:12&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;12&lt;/a&gt;&lt;/sup&gt;
The rule breaks down into four cases which are applied in order:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;if a variadic argument has an arithmetic type and its range fits inside the range of type &lt;code&gt;int&lt;/code&gt;, it is upcasted to &lt;code&gt;int&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;otherwise, if it has arithmetic type and its range fits inside the range of type &lt;code&gt;unsigned int&lt;/code&gt;, it is upcasted to &lt;code&gt;unsigned int&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;otherwise, if it has type &lt;code&gt;float&lt;/code&gt;, it is upcasted to type &lt;code&gt;double&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;otherwise, its type is unchanged.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, coming back to our example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;first_arg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;second_arg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;variadic_sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;first_arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;second_arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Due to the default argument promotion rule, on the second call to &lt;code&gt;va_arg(args, int)&lt;/code&gt;, the variadic parameter which binds value &lt;code&gt;second_arg&lt;/code&gt; actually has type &lt;code&gt;double&lt;/code&gt; (even though &lt;code&gt;second_arg&lt;/code&gt; has type &lt;code&gt;float&lt;/code&gt;).
Since the type &lt;code&gt;double&lt;/code&gt; is not compatible with type &lt;code&gt;int&lt;/code&gt;, the behavior of this program is undefined.&lt;/p&gt;
&lt;h3 id=&#34;signed-to-unsigned-integer-conversion&#34;&gt;Signed-to-Unsigned Integer Conversion&lt;/h3&gt;
&lt;p&gt;This rule may be the simplest among those discussed above (especially for those familiar with modular arithmetic).
Let&amp;rsquo;s recall the rule we saw above.&lt;/p&gt;
&lt;p&gt;Given a signed integer value &lt;code&gt;i1&lt;/code&gt; of type &lt;code&gt;t1&lt;/code&gt; to be converted into unsigned type &lt;code&gt;t2&lt;/code&gt; with bit-width &lt;code&gt;b &amp;gt; 0&lt;/code&gt;, the process works as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If the &lt;code&gt;i1&lt;/code&gt; is within the range &lt;code&gt;[0,2^b)&lt;/code&gt;, then the result &lt;code&gt;i2 = i1&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;Otherwise, the result is &lt;code&gt;i2 = i1 + x*2^b&lt;/code&gt; for the unique integer &lt;code&gt;x&lt;/code&gt; such that &lt;code&gt;0 &amp;lt;= i2 &amp;lt; 2^b&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Since this rule is fairly mechanical, we&amp;rsquo;ll just show some examples here.&lt;/p&gt;
&lt;p&gt;For our examples, suppose we have a standard modern C platform where &lt;code&gt;CHAR_BIT == 8&lt;/code&gt; and &lt;code&gt;sizeof(int) == 4&lt;/code&gt; (i.e., each &lt;code&gt;int&lt;/code&gt; is 32 bits wide).
Then the types below would have the following ranges:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Type&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Range&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[-2^7,2^7)&lt;/code&gt; or &lt;code&gt;[-128,128)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned char&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[0, 2^8)&lt;/code&gt; or &lt;code&gt;[0, 256)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[-2^31,2^31)&lt;/code&gt; or &lt;code&gt;[-2147483648,2147483648)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;unsigned int&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;[0, 2^32)&lt;/code&gt; or &lt;code&gt;[0, 4294967296)&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Recall that there is no &lt;code&gt;signed int&lt;/code&gt; type; &lt;code&gt;int&lt;/code&gt; is defined to be &lt;em&gt;signed&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Now let&amp;rsquo;s list a few &lt;code&gt;signed char/int&lt;/code&gt; to &lt;code&gt;unsigned char&lt;/code&gt; conversions:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Input Type&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Input&lt;/th&gt;
&lt;th&gt;     &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;255&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;254&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;129&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;258&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;257&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;256&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;255&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;255&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;129&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-129&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-2147483648&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;And a few consider &lt;code&gt;signed char/int&lt;/code&gt; to &lt;code&gt;unsigned int&lt;/code&gt; conversions:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Input Type&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Input&lt;/th&gt;
&lt;th&gt;     &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967295&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967294&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967169&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;signed char&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967168&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2147483648&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2147483648&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2147483647&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2147483647&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;128&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;127&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-1&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967295&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-2&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967294&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-127&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967169&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-128&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967168&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-129&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;4294967167&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;int&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;-2147483648&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;&lt;code&gt;2147483648&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;I leave double-checking the results in this table as an exercise for the reader.&lt;/p&gt;
&lt;p&gt;One important point to note from these rules is that the result of the conversion only depends on the input value and the output type; the input type is irrelevant.&lt;/p&gt;
&lt;p&gt;(To the interested reader) I found the following questions useful to clarify how a machine might implement the conversions above:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Which conversions above (if any) preserve the bit-level representation of the input value (i.e., the input and output values are the exact same bit string)?&lt;/li&gt;
&lt;li&gt;Which conversions above (if any) only modify the bit-level representation of the input value by adding/removing leading zeroes?&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;putting-it-all-together&#34;&gt;Putting It All Together&lt;/h2&gt;
&lt;p&gt;We now have enough details to piece together why our original program (copied below for your convenience) behaves the way it does.
As above, let&amp;rsquo;s assume that we&amp;rsquo;re running this program on a standard x86-64 Linux box.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// requires bytes+0 to bytes+sz are valid memory addresses
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;{&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%02x&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// added for readability
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;For each call to &lt;code&gt;printf&lt;/code&gt; in the loop, the following type conversions are performed on the argument &lt;code&gt;bytes[i]&lt;/code&gt;:&lt;/p&gt;
&lt;ol start=&#34;0&#34;&gt;
&lt;li&gt;
&lt;p&gt;Conversion Rule: N/A&lt;br&gt;
Result Type: &lt;code&gt;char&lt;/code&gt;&lt;br&gt;
Value Changed?: No&lt;/p&gt;
&lt;p&gt;As we haven&amp;rsquo;t done any work at step 0, the type of &lt;code&gt;bytes[i]&lt;/code&gt; is still &lt;code&gt;char&lt;/code&gt;.
But recall that on x86-64 Linux, &lt;code&gt;char&lt;/code&gt; is a &lt;em&gt;signed&lt;/em&gt; type!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Conversion Rule: Default argument promotion&lt;br&gt;
Result Type: &lt;code&gt;int&lt;/code&gt;&lt;br&gt;
Value Changed?: No&lt;/p&gt;
&lt;p&gt;By default argument promotion, we widen the type of &lt;code&gt;char&lt;/code&gt; to &lt;code&gt;int&lt;/code&gt;.
Note that, by definition of default argument promotion, the argument value never actually changes&amp;mdash;only its type does.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Conversion Rule: Signed-to-unsigned integer conversion&lt;br&gt;
Result Type: &lt;code&gt;unsigned int&lt;/code&gt;&lt;br&gt;
Value Changed?: Yes, but only when &lt;code&gt;byte[i] &amp;lt; 0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;According to the definition of &lt;code&gt;printf&lt;/code&gt;, the conversion specification &lt;code&gt;%02x&lt;/code&gt; contains the base conversion &lt;code&gt;x&lt;/code&gt; which takes an &lt;code&gt;unsigned int&lt;/code&gt; argument and prints it as hexadecimal.
This means &lt;code&gt;printf&lt;/code&gt; will take our casted argument &lt;code&gt;(int) byte[i]&lt;/code&gt; and cast it again to &lt;code&gt;unsigned int&lt;/code&gt; before printing in hexadecimal.
Thus, we must apply the signed-to-unsigned integer conversion rule.
However, recall that this rule &lt;em&gt;only&lt;/em&gt; depends on the input value and the output type.
Since default argument promotion never changes the input value, when &lt;code&gt;byte[i] &amp;lt; 0&lt;/code&gt;, the result of the conversion will be defined by the equation below:&lt;/p&gt;
&lt;p&gt;(†) &lt;code&gt;byte[i] + 1 * (2^32)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Of course, if &lt;code&gt;byte[i] &amp;gt;= 0&lt;/code&gt;, then the result will be unchanged, i.e., just &lt;code&gt;byte[i]&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, from this analysis, we observe that only the final conversion rule will change the value of the argument.
But, to understand the precise output value obtained from equation (†) on our test vectors, we need to determine how the C platform will interpret the input &lt;code&gt;char*&lt;/code&gt; literal.
To do this for our test vectors, we need to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;convert escape sequences into bit strings;&lt;/li&gt;
&lt;li&gt;decode bit strings into decimal values using the two&amp;rsquo;s complement scheme.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To speed things along, I&amp;rsquo;ve gone ahead and interpreted the input values and then applied the conversion rules in the table below.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Test Vector&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Input Value&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Converted Value&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Output String&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;N/A&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;N/A&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\x00&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{00}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\x01&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{01}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\xff&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1 + 2^32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{ffffffff}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\xfe&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-2 + 2^32&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{fffffffe}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Now, we can plainly see why the final two values printed such large output strings&amp;mdash;the converted value expressions contain an additional &lt;code&gt;2^32&lt;/code&gt; term!&lt;/p&gt;
&lt;h3 id=&#34;so-what-now&#34;&gt;So What Now?&lt;/h3&gt;
&lt;p&gt;We&amp;rsquo;ve finally identified the problem.
How do we fix it?
There are two basic solutions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Change The Input Type&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In our function &lt;code&gt;print_hex&lt;/code&gt;, we can change the type of &lt;code&gt;bytes&lt;/code&gt; from &lt;code&gt;char*&lt;/code&gt; to &lt;code&gt;unsigned char*&lt;/code&gt;.
If we do that, firstly, the interpretation of &lt;code&gt;&amp;quot;\xff&amp;quot;&lt;/code&gt; and &lt;code&gt;&amp;quot;\xfe&amp;quot;&lt;/code&gt; will change to 255 and 254 respectively.
Then, default argument promotion will change the input type from &lt;code&gt;unsigned char&lt;/code&gt; to &lt;code&gt;int&lt;/code&gt;, but leave the value unchanged.
Finally, the &lt;code&gt;x&lt;/code&gt; conversion specification will cast that value to &lt;code&gt;unsigned int&lt;/code&gt;, which, since the value is positive, also leaves it unchanged.
Thus, the final value will be identical to the initial value.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Change The Conversion Specification Typesize&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In this approach, we leave the type of input &lt;code&gt;bytes&lt;/code&gt; unchanged from &lt;code&gt;char*&lt;/code&gt; and instead rely on more advanced &lt;code&gt;printf&lt;/code&gt; features.
As it turns out, the &lt;code&gt;printf&lt;/code&gt; function includes a wide variety of type size modifiers.
If we change our &lt;code&gt;printf&lt;/code&gt; invocation to:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%02hhx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will force &lt;code&gt;printf&lt;/code&gt; to cast input argument &lt;code&gt;byte[i]&lt;/code&gt; to type &lt;code&gt;unsigned char&lt;/code&gt;.
And, if you manually apply the signed-to-unsigned conversion rules above, you will see that this gives us the intended result.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After making either change, our program will behave as expected.
That is, our test vectors will produce the following tables:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Test Vector&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Input Value&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;Converted Value&lt;/th&gt;
&lt;th&gt;    &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Output String&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;N/A&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;N/A&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\x00&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{00}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\x01&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{01}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\xff&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;255 (or) -1&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;255&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{ff}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;&amp;quot;\xfe&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;254 (or) -2&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;254&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;{fe}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;So which of these solutions is best?&lt;/p&gt;
&lt;p&gt;In my opinion, solution (1) is the clear winner, since it more properly communicates &lt;em&gt;intent&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;As I see it, the crux of this whole mess was a conflation of the &lt;code&gt;char&lt;/code&gt; and &lt;code&gt;unsigned char&lt;/code&gt; types and how they are used to represent strings &lt;em&gt;and&lt;/em&gt; uninterpreted memory regions.&lt;/p&gt;
&lt;p&gt;In that light, assigning type &lt;code&gt;unsigned char*&lt;/code&gt; to &lt;code&gt;bytes&lt;/code&gt; clearly communicates that this value should be understood as a sequence of uninterpreted bytes (at least, on platforms where &lt;code&gt;CHAR_BIT == 8&lt;/code&gt;) as opposed to a string containing human language text.&lt;/p&gt;
&lt;h2 id=&#34;epilogue&#34;&gt;Epilogue&lt;/h2&gt;
&lt;p&gt;The convenience of C&amp;rsquo;s widely cloned &lt;code&gt;printf&lt;/code&gt; function belies the language&amp;rsquo;s truly low-level nature.
Since at least the 1980&amp;rsquo;s, the C language has been referred to as a &amp;ldquo;portable assembly language,&amp;rdquo; and for good reason.
When programming in C, to avoid unexpected pitfalls, one must be acutely aware of a whole slew of implicit behaviors (some of which are implementation-defined or even undefined).
Otherwise, you too may find yourself falling into such a pit (as I did), dazed and confused, wondering how it ever got so dark.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Well, it &lt;em&gt;was&lt;/em&gt; a fairly recent event when I &lt;em&gt;started&lt;/em&gt; writing this blog post.
However, my initial attempts to write this post fizzled out, and it sat dormant for the better part of a year before I finally mustered up the willpower to finish it.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;Unfortunately, by the time this post is published, I fear it will, in fact, be too long.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;To the typed language enthusiast: even though the C language is incapable of enforcing the usage contract for this function, that doesn&amp;rsquo;t mean the contract doesn&amp;rsquo;t exist; at some point, when interfacing with real systems, we will encounter usage contracts which cannot be enforced (or even checked) in our language.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:4&#34;&gt;
&lt;p&gt;However, for all common operating systems (Linux, BSD/Mac, Windows) on all common CPU architectures, the printed text will match what was shown above.&amp;#160;&lt;a href=&#34;#fnref:4&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:5&#34;&gt;
&lt;p&gt;To see that this is unique, a first hint is to observe that for any value in the range &lt;code&gt;[0,2^b)&lt;/code&gt;, adding or subtracting &lt;code&gt;2^b&lt;/code&gt; will produce a value outside of this range. If you want to go deeper, you can read about &lt;a href=&#34;https://en.wikipedia.org/wiki/Modular_arithmetic&#34;&gt;modular arithmetic&lt;/a&gt;.&amp;#160;&lt;a href=&#34;#fnref:5&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:6&#34;&gt;
&lt;p&gt;Actually, I fudged the truth &lt;em&gt;slightly&lt;/em&gt;; the &lt;em&gt;C&lt;/em&gt; language doesn&amp;rsquo;t require &lt;code&gt;char&lt;/code&gt; variants to occupy exactly 8-bits;
their bit width is defined as the value of the macro &lt;code&gt;CHAR_BIT&lt;/code&gt; where &lt;code&gt;CHAR_BIT &amp;gt;= 8&lt;/code&gt;.
In fact, the &lt;code&gt;sizeof()&lt;/code&gt; operator in &lt;em&gt;C&lt;/em&gt; does &lt;em&gt;not&lt;/em&gt; return the number of &lt;em&gt;bytes&lt;/em&gt; that comprise an object, it returns the number of &lt;em&gt;chars&lt;/em&gt;,
so that &lt;code&gt;sizeof(char) == 1&lt;/code&gt; regardless of architecture.
In other words, on a platform where &lt;code&gt;CHAR_BIT != 8&lt;/code&gt;, manipulating values narrower than &lt;code&gt;CHAR_BIT&lt;/code&gt; may require bit-shifting, etc&amp;hellip;
(just as we must do for 4-bit &lt;em&gt;nibbles&lt;/em&gt; when printing bytes as hexadecimal).&amp;#160;&lt;a href=&#34;#fnref:6&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:7&#34;&gt;
&lt;p&gt;One may wonder why &lt;code&gt;unsigned char&lt;/code&gt; should be preferred as a unit of uninterpreted memory as opposed to the other character types.
The main reasons are that (a) signed values have implementation-defined behavior when right-shifting &lt;code&gt;(&amp;gt;&amp;gt;)&lt;/code&gt;;
(b) when widening a signed arithmetic type, C will perform sign extension, which differs from the normal semantics of memory accesses.&lt;br&gt;
 &lt;br&gt;
Similarly, one may wonder why the C standard sometimes prefers a pair of &lt;code&gt;void*&lt;/code&gt; and &lt;code&gt;size_t&lt;/code&gt; for representing a blob of memory instead of &lt;code&gt;unsigned char*&lt;/code&gt; and &lt;code&gt;size_t&lt;/code&gt;.
Actually, both choices are sensible, but they signal a different intent.
While an &lt;code&gt;unsigned char*&lt;/code&gt; represents a sequence of uninterpreted memory units (which are usually 8-bit bytes), a &lt;code&gt;void*&lt;/code&gt; represents a sequence of unknown type.
As an example, we may use malloc to allocate memory for a &lt;code&gt;struct s { int a; int b; };&lt;/code&gt; by writing &lt;code&gt;malloc(sizeof(struct s))&lt;/code&gt; and it will return a &lt;code&gt;void*&lt;/code&gt;.
We then think of that &lt;code&gt;void*&lt;/code&gt; as pointing to a &lt;em&gt;single&lt;/em&gt; object of type &lt;code&gt;s&lt;/code&gt;.
If we cast that &lt;code&gt;void*&lt;/code&gt; to &lt;code&gt;unsigned char*&lt;/code&gt;, then that is like viewing an &lt;code&gt;s&lt;/code&gt; object as a raw sequence of uninterpreted memory units.&amp;#160;&lt;a href=&#34;#fnref:7&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:8&#34;&gt;
&lt;p&gt;Again, I&amp;rsquo;m fudging the truth here a bit because there are other integer types, but we won&amp;rsquo;t discuss them here.&amp;#160;&lt;a href=&#34;#fnref:8&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:9&#34;&gt;
&lt;p&gt;The fact that non-&lt;code&gt;char&lt;/code&gt; types cannot represent strings in C is a convention informed by the fact that original character sets used by computers in the United States had just 7 or 8 bits;
This meant that each representable character on the machine could be stored in just &lt;em&gt;one&lt;/em&gt; &lt;code&gt;char&lt;/code&gt; value.
However, as computers began to be developed and used globally, the number of bits required to encode a single language character expanded beyond just 7 or 8 bits.
Unfortunately, at that point, it was not possible to change the meaning of the &lt;code&gt;char&lt;/code&gt; without breaking a large number of C programs.
To remedy this issue, a wider &lt;code&gt;char&lt;/code&gt;-like type (appropriately called &lt;code&gt;wchar_t&lt;/code&gt;) was introduced to represent characters in languages that required more bits.&amp;#160;&lt;a href=&#34;#fnref:9&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:10&#34;&gt;
&lt;p&gt;For the full story on why these integer types cannot be used for memory access, an interested reader can consult the C language &lt;a href=&#34;https://cppreference.com/w/c/language/object.html&#34;&gt;&lt;em&gt;aliasing&lt;/em&gt; rules&lt;/a&gt;.
The key point is that, by restricting the use of these types to just arithmetic purposes, the compiler can apply certain optimizations that would otherwise not be possible.&amp;#160;&lt;a href=&#34;#fnref:10&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:11&#34;&gt;
&lt;p&gt;The C language says types &lt;code&gt;T1&lt;/code&gt; and &lt;code&gt;T2&lt;/code&gt; are compatible if a value of one type can be used where the other type is expected.
While there is some subtlety here in the actual definition, for our purposes, it&amp;rsquo;s enough to assume that &lt;code&gt;T1&lt;/code&gt; and &lt;code&gt;T2&lt;/code&gt; are the same type.&amp;#160;&lt;a href=&#34;#fnref:11&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:12&#34;&gt;
&lt;p&gt;As far as I can tell, this rule was put in place to simplify the job of compiler writers.&amp;#160;&lt;a href=&#34;#fnref:12&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Four Years and Beyond</title>
      <link>https://srs.fyi/four-years-and-beyond/</link>
      <pubDate>Tue, 17 Feb 2026 23:15:00 -0500</pubDate>
      
      <guid>https://srs.fyi/four-years-and-beyond/</guid>
      <description>&lt;p&gt;I originally kicked off this blog around April 2022.
It&amp;rsquo;s now February 2026 and nearly four years (a.k.a one quadrennium&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;) have passed.
How has this blog progressed?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I published 3 posts (including this one).&lt;/li&gt;
&lt;li&gt;I authored 9 draft posts (defined as an unpublished post over 300 words with an average/median word count of ~2000/2300 words).&lt;/li&gt;
&lt;li&gt;I sketched out 9 post ideas (defined as an unpublished post with 300 words or less).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If I also count unpublished draft posts, then my average post output over the past four years is 3 posts/year.&lt;/p&gt;
&lt;p&gt;On the one hand, I feel proud that I have maintained some form of writing in the midst of the busy-ness of life.
On the other hand, I feel like this blog has fallen short of the dream that I had when I started it (more on that below).
Adding to my own confusion, I have been wondering lately how much of the desire to produce this blog came from trying to be somebody.&lt;/p&gt;
&lt;p&gt;Let me continue on this last point for a moment.
I believe, in the last decade, two dictums took root broadly in the online tech discourse:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;You need a blog&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Why? Because job, usually (c.f. &lt;em&gt;you need open-source contributions&lt;/em&gt;) and also because professionals (and cool people) have them.
But sometimes, because you must&amp;hellip;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Produce, don&amp;rsquo;t consume&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Or, in other words, via &lt;em&gt;building&lt;/em&gt;, become a productive netizen and reject the vicious cycle of doom-scrolling and societal passivity that increasingly define the modern internet age.&lt;/p&gt;
&lt;p&gt;Unsurprisingly, among tech enthusiasts, this usually means some kind of software, web page, or blog.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And so, as I began this blog, I think that these two ideas (combined with my own perfectionistic tendencies and a sizeable backlog of unpolished ideas) coalesced into this grand and grotesque vision:
a blog that would both prove my career and my mettle, resolute against the empty clamor of a vampiric social media.&lt;/p&gt;
&lt;p&gt;But as time passed, that lofty vision became a burden.
Each post needed to be well-crafted &lt;em&gt;and&lt;/em&gt; well-researched (and hopefully at least a little bit interesting&amp;hellip;).
Under that pressure, writing felt like a chore rather than an opportunity and incomplete sketches began to pile up.
As the months and then years went by, at a subconscious level, I was anxious.&lt;/p&gt;
&lt;p&gt;If professionals and cool people and productive netizens &lt;em&gt;write&lt;/em&gt; and &lt;em&gt;produce&lt;/em&gt;, what does this heap of unpublished blog posts say about &lt;em&gt;me&lt;/em&gt;?&lt;/p&gt;
&lt;p&gt;Writing is hard enough without FOMO and shame muddying the waters.
It requires time and discipline and passion and the courage to publish.
It may sound cliché, but I don&amp;rsquo;t want to keep carrying the weight of trying to be that &lt;em&gt;guy&lt;/em&gt; anymore.&lt;/p&gt;
&lt;p&gt;To be clear, it&amp;rsquo;s not that I wish to abandon this blog or to jettison all standards of writing or clarity of thought; far from it.
What I want is to make peace with my own writing process and to let go of unrealistic and unhelpful expectations for what is currently a minor side-project in an otherwise full life.
Put more simply: I want the &lt;em&gt;next&lt;/em&gt; four years of this blog to feel a lot more free than the &lt;em&gt;first&lt;/em&gt; four years.&lt;/p&gt;
&lt;p&gt;When did technological output become a measure of my legacy on the same level as lasting friendships, a healthy family, and a thriving community?&lt;/p&gt;
&lt;p&gt;If you (or I) write or produce, let it be because we find joy in the journey.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;Did I know the word quadrennium before writing this post? No, I did not&amp;mdash;I merely had a vague sense that it &lt;em&gt;should&lt;/em&gt; exist based on word roots. But big words are neat, don&amp;rsquo;tcha think?&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Learning Haskell</title>
      <link>https://srs.fyi/learning-haskell/</link>
      <pubDate>Sat, 30 Jul 2022 11:17:00 -0400</pubDate>
      
      <guid>https://srs.fyi/learning-haskell/</guid>
      <description>&lt;p&gt;&lt;strong&gt;TLDR:&lt;/strong&gt; In this blog post, I list some of the challenges that I faced while learning Haskell.
Skip down to &lt;strong&gt;Challenges&lt;/strong&gt; to see my list.&lt;/p&gt;
&lt;p&gt;My journey to Haskell dates back to the start of my university days.
I first heard about Haskell from an older grad student I worked with.
He was an opinionated man with an impressively long beard who rolled his own cigarettes and often took smoke breaks just outside the department building.
Haskell was a challenging and mind-bending language, he promised, as a puff of smoke wafted into the air.&lt;/p&gt;
&lt;p&gt;As a budding, wide-eyed computer science major, I couldn&amp;rsquo;t help but be curious.
And sure enough, Haskell was &lt;em&gt;different&lt;/em&gt; from any language I had ever used (which up to that point, was mostly Java).
Despite my best efforts to learn it, I quickly found myself stuck.&lt;/p&gt;
&lt;p&gt;Over the years, I occasionally would run across a new blogpost claiming to explain monads (or GADTs or type classes or, well, you get the idea) and decide to give Haskell another shot.
Invariably, I would stumble over some tricky bit of code and retreat.
But for whatever reason, I wasn&amp;rsquo;t willing to throw in the towel (whether it was curiosity, pride, or stubbornness, I can&amp;rsquo;t be sure).&lt;/p&gt;
&lt;p&gt;In the past few weeks, I found my way back to Haskell again by way of a discussion with work colleagues.
A smattering of further insightful conversations, cryptic GHCi sessions, and nightly reading stints followed.
Now, after a decade and a half of false starts, snagging a PhD in the meantime, I &lt;em&gt;finally&lt;/em&gt; feel that I am beginning to understand Haskell&lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;In this blog post, I want to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;reflect on some of the challenges that I faced on my learning journey;&lt;/li&gt;
&lt;li&gt;document what resources/methods I found helpful, if any;&lt;/li&gt;
&lt;li&gt;present these thoughts to others who might be learning or teaching Haskell.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;challenges&#34;&gt;Challenges&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mindset&#34;&gt;Mindset&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#functors-applicatives-and-monads-oh-my&#34;&gt;Functors, Applicatives, and Monads&amp;hellip; Oh My!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#terseness&#34;&gt;Terseness&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#show-me&#34;&gt;Show Me&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#parallel-worlds&#34;&gt;Parallel Worlds&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#even-more-parallel-worlds&#34;&gt;Even More Parallel Worlds&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#higher-kinded-types&#34;&gt;Higher-Kinded Types&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#partially-applied-hkts-in-type-class-instances&#34;&gt;Partially Applied HKTs in Type Class Instances&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#extensive-extensions&#34;&gt;Extensive Extensions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#build-tools&#34;&gt;Build Tools&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mindset&#34;&gt;Mindset&lt;/h2&gt;
&lt;p&gt;While mindset is clearly subjective (and may evoke images of fake gurus shilling poorly-conceived get-rick-quick courses), I do think this idea is worth recalling briefly.
In my early experience from reading blogposts and talking to others, Haskell was always shrouded in a certain sense of mystery, revered as a powerful language beyond the reach of mortal programmers (or at least, as a hard-to-learn language).
Both the abstraction and terseness issues that I mention below seem to contribute to this reputation.&lt;/p&gt;
&lt;p&gt;Of course, in actuality, Haskell is a tool for programming with its own quirks and benefits, just like any other language.&lt;/p&gt;
&lt;p&gt;But, by adopting the former mindset instead of the latter, I became intimidated and more likely to give up.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Keep things in perspective.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;For programmers who started with an imperative background (like me), Haskell will be different and probably challenging to learn.&lt;/li&gt;
&lt;li&gt;At the same time, it&amp;rsquo;s just a programming language with a different computational model than imperative languages; it is not magic or beyond the reach of normal programmers.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;functors-applicatives-and-monads-oh-my&#34;&gt;Functors, Applicatives, and Monads&amp;hellip; Oh My!&lt;/h2&gt;
&lt;p&gt;Haskell has its theoretical roots in type theory, which has close connections to category theory, with many concepts also imported from abstract algebra.
This theoretical legacy shines through strongly in the interface design in Haskell type class hierarchy.
In my opinion, much of the mystery surrounding Haskell stems from these interfaces.
When the average person sees the words functor, semigroup, monoid, or monad, they probably feel either mystified or intimidated.
I know I felt both when I first started my Haskell journey.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
This is a tough one.
On the one hand, I think all of above algebraic/categorical structures are really useful and good abstractions!
On the other hand, learning all of them, even intuitively, is a fair amount of work.
There are a couple things to do if this feels overwhelming:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;find a good resource that takes you through the concepts step-by-step;&lt;/li&gt;
&lt;li&gt;forget about all of the mathematical/historical baggage and learn the type classes just as black box interfaces that satisfy certain rules;&lt;/li&gt;
&lt;li&gt;avoid wikis and other reference sites; their use of technical language and lack of linear structure can trip up beginners.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As for general resources, I think you can&amp;rsquo;t go wrong with the incredibly gentle and thorough &lt;a href=&#34;https://haskellbook.com/&#34;&gt;&lt;em&gt;Haskell Programming from First Principles&lt;/em&gt;&lt;/a&gt;;
just be aware that it is a hefty tome weighing in at about 1200 pages!&lt;/p&gt;
&lt;h2 id=&#34;terseness&#34;&gt;Terseness&lt;/h2&gt;
&lt;p&gt;I argue that Haskell is a terse language in two senses:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;syntactically&lt;/em&gt;, i.e., concepts can be expressed with a minimum of syntactic ceremony&lt;sup id=&#34;fnref:2&#34;&gt;&lt;a href=&#34;#fn:2&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;; and&lt;/li&gt;
&lt;li&gt;&lt;em&gt;semantically&lt;/em&gt;, i.e., certain omitted details can be automatically inferred by the compiler.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Together, these imply you can express powerful concepts with a small amount of code.
The challenge is also two-fold:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;syntactically&lt;/em&gt; terse languages provide less syntactic pointers that describe the meaning of the code;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;semantically&lt;/em&gt; terse languages may require the programmer to &lt;em&gt;explicitly&lt;/em&gt; reconstruct details that are only &lt;em&gt;implicitly&lt;/em&gt; described in the code.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Both of these items &lt;em&gt;empower&lt;/em&gt; experts who are already fluent in a language but can &lt;em&gt;impede&lt;/em&gt; beginners who wish to learn it (though not always).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
There are two main recommendations here:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Use text editors with syntax highlighting to alleviate potential syntactic confusion;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn and lean on interactive debugging tools like GHCi whenever possible that can:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;show all reconstructed details that were omitted from the codebase;&lt;/li&gt;
&lt;li&gt;step through the process taken to arrive at some conclusion.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;show-me&#34;&gt;Show Me&lt;/h2&gt;
&lt;p&gt;As a beginner, when you open up GHCi and try to get help for some common function, say &lt;code&gt;foldl&lt;/code&gt;, you may naturally type:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ghci&amp;gt; foldl  
error:  
• No instance for (Show ((b0 -&amp;gt; a0 -&amp;gt; b0) -&amp;gt; b0 -&amp;gt; [a0] -&amp;gt; b0)) arising from a use of ‘print’  
• In a stmt of an interactive GHCi command: print it
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Unfortunately, this error message is not very helpful for a beginner.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Use the GHCi &lt;code&gt;:type&lt;/code&gt; or &lt;code&gt;:info&lt;/code&gt; commands.
I am a bit surprised the interpreter does not directly provide this hint;  it would save all beginners at least one internet search.&lt;/p&gt;
&lt;h2 id=&#34;parallel-worlds&#34;&gt;Parallel Worlds&lt;/h2&gt;
&lt;p&gt;There are two totally separate, almost parallel worlds in Haskell: the world of terms and the world of types.
However, sometimes there are parallel entities which exist in &lt;em&gt;both&lt;/em&gt; worlds which have the &lt;em&gt;same&lt;/em&gt; name.
As an example, consider this definition:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-haskell&#34; data-lang=&#34;haskell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   -----   -----&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   Type    Term&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On the left hand side of the equals sign, we are defining a type constructor &lt;code&gt;Bar&lt;/code&gt; parameterized over a type variable &lt;code&gt;a&lt;/code&gt;.
Conversely, on the right hand side of the equals sign, we are defining a term constructor &lt;code&gt;Bar&lt;/code&gt; parameterized over a term variable &lt;code&gt;a&lt;/code&gt;.
This means we can write things like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-haskell&#34; data-lang=&#34;haskell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;{- Types -}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;intBar&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;::&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Int&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;{- Terms -}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;intBar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Experienced Haskellers know that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;the first line is a type signature and makes a statement about the world of types;&lt;/li&gt;
&lt;li&gt;the second line is a function definition and makes a statement about the world of terms (though type names can still creep if types cannot be inferred).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thus, experienced Haskellers know that &lt;code&gt;Bar Int&lt;/code&gt; in the first line must refer to a type constructor and &lt;code&gt;Bar x&lt;/code&gt; on second line refers to a term constructor.
However, for a beginner, this overlap can be confusing.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Practice observing type annotation syntax and recognizing that the same syntax, contextually, may have a different meaning.&lt;/p&gt;
&lt;h3 id=&#34;even-more-parallel-worlds&#34;&gt;Even More Parallel Worlds&lt;/h3&gt;
&lt;p&gt;You might think that two parallel meanings of a word was enough&amp;hellip; but Haskell doesn&amp;rsquo;t mess around.
For extra credit, we can enable the &lt;code&gt;-XDataKinds&lt;/code&gt; extension.
With this extension, the compiler generates a third parallel world of &lt;em&gt;kinds&lt;/em&gt; which can be used in type-level programming.&lt;/p&gt;
&lt;p&gt;With &lt;code&gt;-XDataKinds&lt;/code&gt; enabled, upon seeing a data declaration, (in most cases) the compiler will implicitly generate a new kind with new types to inhabit it.
In the book &lt;a href=&#34;https://thinkingwithtypes.com&#34;&gt;&lt;em&gt;Thinking With Types&lt;/em&gt;&lt;/a&gt;, the author Sandy Maguire invents a kind declaration notation to describe the way this is done.
As an example, recall the &lt;code&gt;Bar&lt;/code&gt; declaration above.
When the compiler sees this type declaration:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-haskell&#34; data-lang=&#34;haskell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   -----   -----&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   Type    Term&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It will implicitly generate a kind declaration (not valid Haskell syntax):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-haskell&#34; data-lang=&#34;haskell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;kind&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;  &lt;span class=&#34;ow&#34;&gt;=&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;&amp;#39;Bar&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   -----     ------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--   Kind       Type   -- world&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--  (Type)     (Term)  -- world promoted from&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;where the left and right sides of the kind declaration are promoted from the left and right hand sides of the type declaration, respectively.&lt;/p&gt;
&lt;p&gt;Thus, in our final tally, &lt;code&gt;Bar&lt;/code&gt; (possibly with a leading single quote) now has four possible usages:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Bar&lt;/code&gt; - a term constructor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bar&lt;/code&gt; - a type constructor&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;Bar&lt;/code&gt; - a type constructor (i.e. a promoted term constructor)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Bar&lt;/code&gt; - a kind (i.e. a promoted type constructor)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Fortunately, the &lt;code&gt;-XDataKinds&lt;/code&gt; extension is only needed for type-level programming.
Most of the time, Haskellers can safely ignore this.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Be aware of the &lt;code&gt;-XDataKinds&lt;/code&gt; extension and its associated syntax.
That way, when you see this syntax in other code, you will won&amp;rsquo;t be confused (it&amp;rsquo;s hard to search for syntax online!).
If you want to dive deeper into this subject, I can recommend Sandy&amp;rsquo;s book &lt;a href=&#34;https://thinkingwithtypes.com&#34;&gt;&lt;em&gt;Thinking With Types&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;higher-kinded-types&#34;&gt;Higher-Kinded Types&lt;/h2&gt;
&lt;p&gt;Higher-kinded types (HKTs) offer a lot of power, i.e., type constructors which take types as arguments.
If you are unfamiliar with this concept, think of types like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;[] :: Type -&amp;gt; Type&lt;/code&gt;&lt;br&gt;
Comment: takes type &lt;code&gt;a&lt;/code&gt; to lists of type &lt;code&gt;a&lt;/code&gt;&lt;br&gt;
Example: &lt;code&gt;[String]&lt;/code&gt; - type of lists of strings&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Maybe :: Type -&amp;gt; Type&lt;/code&gt;&lt;br&gt;
Comment: takes type &lt;code&gt;a&lt;/code&gt; to optional &lt;code&gt;a&lt;/code&gt;&lt;br&gt;
Example: &lt;code&gt;Maybe Int&lt;/code&gt; - type of optional integers&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;(-&amp;gt;) :: Type -&amp;gt; Type -&amp;gt; Type&lt;/code&gt;&lt;br&gt;
Comment: takes types &lt;code&gt;a&lt;/code&gt; and &lt;code&gt;b&lt;/code&gt; to functions from &lt;code&gt;a&lt;/code&gt; to &lt;code&gt;b&lt;/code&gt;&lt;br&gt;
Example: &lt;code&gt;Int -&amp;gt; Bool&lt;/code&gt; - type of functions from &lt;code&gt;Int&lt;/code&gt; to &lt;code&gt;Bool&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are only first-order higher-kinded types.
We also have examples of second-order types.
Most commonly, these are types defined implicitly by type classes.
Examples include&lt;sup id=&#34;fnref:3&#34;&gt;&lt;a href=&#34;#fn:3&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Functor :: (Type -&amp;gt; Type) -&amp;gt; Type&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Monad :: (Type -&amp;gt; Type) -&amp;gt; Type&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The fact that types not only act as functions at the type level&amp;mdash;but as higher-order functions&amp;mdash;was challenging.
As we&amp;rsquo;ll see in the next section, partial application of HKTs takes the challenge up a notch.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Learn about higher-order functions (you&amp;rsquo;ll want to do this anyway).
Make a mental note that types in Haskell are functions at the type-level.&lt;/p&gt;
&lt;h3 id=&#34;partially-applied-hkts-in-type-class-instances&#34;&gt;Partially Applied HKTs in Type Class Instances&lt;/h3&gt;
&lt;p&gt;Oftentimes, we want to create a type class instance for a type whose kind doesn&amp;rsquo;t quite match the type class.
As an example, recall the arrow type &lt;code&gt;(-&amp;gt;)&lt;/code&gt; which takes two type arguments.
We would like to apply the &lt;code&gt;Functor&lt;/code&gt; type constructor to arrow type, but we cannot, because the kind signatures don&amp;rsquo;t match up.
&lt;code&gt;Functor&lt;/code&gt; needs an argument of kind &lt;code&gt;Type -&amp;gt; Type&lt;/code&gt;, but &lt;code&gt;(-&amp;gt;)&lt;/code&gt; has kind &lt;code&gt;Type -&amp;gt; Type -&amp;gt; Type&lt;/code&gt;.
To solve this problem, we can &lt;em&gt;partially apply&lt;/em&gt; type constructors.&lt;/p&gt;
&lt;p&gt;Many examples of partial application of HKTs occur in the type class hierarchy including:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;Functor&lt;/code&gt; instance for arrow types: &lt;code&gt;instance Functor ((-&amp;gt;) r)&lt;/code&gt;.
Here we partially applied the arrow constructor with only one type.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;Monad&lt;/code&gt; instance for &lt;code&gt;StateT&lt;/code&gt; used by the type synonym &lt;code&gt;State&lt;/code&gt;: &lt;code&gt;instance Monad m =&amp;gt; Monad (StateT s m)&lt;/code&gt;.
Here we partially applied the &lt;code&gt;StateT&lt;/code&gt; contructor with two types.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The trickiness of partially applied HKTs in type instances is that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the HKT argument in the type instance definition is partially applied but;&lt;/li&gt;
&lt;li&gt;the missing type(s) are specified in the type class definition.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A naive Haskeller may not even realize that they are working with a partially applied HKT.
This partial application is only apparent if one has previously seen the type constructor or type class definition in question.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Learn about currying (you&amp;rsquo;ll want to do this anyway).
Amend the mental note you just made to state that type constructors in Haskell are actually &lt;em&gt;curried&lt;/em&gt; functions at the type-level and can be partially applied.&lt;/p&gt;
&lt;h2 id=&#34;extensive-extensions&#34;&gt;Extensive Extensions&lt;/h2&gt;
&lt;p&gt;All popular programming languages evolve into new versions over time.
When this happens, a developer has to choose if and how to do version migration.
However, for some languages (like Haskell), the choice is more nuanced.&lt;/p&gt;
&lt;p&gt;In addition to versions, Haskell has a sizeable collection of extensions, i.e., language-level features that can radically change the meaning of programs.
These extensions can add, remove, or reinterpret existing syntactic constructs and even modify core compiler behaviors.&lt;/p&gt;
&lt;p&gt;This leads to several issues:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The proliferation of extensions can lead to confusion about what syntax is accepted and what code compiles in what context.&lt;/li&gt;
&lt;li&gt;Each extension must be learned additionally on top of the core Haskell specification and standard library.
For a language as complex as Haskell, that&amp;rsquo;s a big ask.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Fortunately, there have been efforts to curb or mitigate the extension explosion.
Newer versions of GHC (the Haskell compiler) enable popular extensions by default (a way of standardizing the extension set) and often emit warnings when code requires a specific extension.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Don&amp;rsquo;t try to learn all of the extensions; it&amp;rsquo;s tons of work and many of them are deprecated.
Do consult the &lt;a href=&#34;https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/exts.html&#34;&gt;official extension list&lt;/a&gt; in the GHC user guide when needed.&lt;/p&gt;
&lt;h2 id=&#34;build-tools&#34;&gt;Build Tools&lt;/h2&gt;
&lt;p&gt;Build tools (and package formats) are all about gathering dependencies and build recipes for your code so that someone else can build it on their machine without your help.
Currently, the Haskell community is currently split between two seemingly good similar-but-different build tools: Cabal (2004) and Stack (2015).&lt;/p&gt;
&lt;p&gt;When I first started learning Haskell, Cabal was the only option available (though at that time I never needed it).
Later in my Haskell journey, I discovered Stack, which I used almost exclusively since then.
While I find Stack generally works well, I also find it to be complex.&lt;/p&gt;
&lt;p&gt;Unlike Python pip or the Node package manager, Stack seems to discourage interactive installation of packages.
Instead, users are directed to edit their &lt;code&gt;stack.yaml&lt;/code&gt; and let Stack install packaged dependencies and build the project as necessary.
When I first started, I was somewhat confused because the experience was different from what I had used previously.&lt;/p&gt;
&lt;p&gt;So, the trade-off seems to be: a more complex setup process in exchange for a more documented and reproducible build.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Pick a build tool between the two options and stick with it.
Carefully read the &lt;a href=&#34;https://docs.haskellstack.org/en/stable/README/&#34;&gt;Stack&lt;/a&gt; or &lt;a href=&#34;https://cabal.readthedocs.io/en/stable/&#34;&gt;Cabal&lt;/a&gt; user guide.&lt;/p&gt;
&lt;h1 id=&#34;wrapping-up&#34;&gt;Wrapping Up&lt;/h1&gt;
&lt;p&gt;If you&amp;rsquo;ve made it this far, thanks for following along!&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re a newcomer to Haskell, I hope you learned something from this post.&lt;/p&gt;
&lt;p&gt;Haskell is an ambitious and fun language that allows you to write compact, fast, and safe code in a functional style.
Partially due to these demanding goals, Haskell has &lt;em&gt;a lot&lt;/em&gt; of moving parts.
Mastering it takes time.&lt;/p&gt;
&lt;p&gt;In parting, let me close with one last tip.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Recommendation&lt;/em&gt;:
Use the right tool for the right job.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34; role=&#34;doc-endnotes&#34;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;
&lt;p&gt;I guess the old adage that you need a PhD to learn Haskell turned out to be true&amp;hellip; at least in my case.&amp;#160;&lt;a href=&#34;#fnref:1&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;
&lt;p&gt;The fact that a language has a terse syntax does not imply that it has a simple syntax.
Clearly, Haskell has fairly complex syntax with its rules about indentation and bracketing and a plethora of extensions that give you the ability to write the same program in many different ways (e.g. ADT vs GADT syntax, guards/where clauses vs. if/pattern match, etc).
Arguably, array-like languages like APL represent the extreme of terse and simple syntaxes.&amp;#160;&lt;a href=&#34;#fnref:2&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;
&lt;p&gt;Technically, the constructors which are implicitly defined for type classes inhabit the &lt;code&gt;Constraint&lt;/code&gt; kind instead of the &lt;code&gt;Type&lt;/code&gt; kind&amp;mdash;but that is more of an implementation detail.&amp;#160;&lt;a href=&#34;#fnref:3&#34; class=&#34;footnote-backref&#34; role=&#34;doc-backlink&#34;&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Directed Steps</title>
      <link>https://srs.fyi/directed-steps/</link>
      <pubDate>Wed, 06 Apr 2022 00:00:00 +0000</pubDate>
      
      <guid>https://srs.fyi/directed-steps/</guid>
      <description>&lt;h2 id=&#34;ground-rules-and-goals&#34;&gt;Ground Rules and Goals&lt;/h2&gt;
&lt;p&gt;Welcome aboard my new blog &lt;a href=&#34;srs.fyi&#34;&gt;srs.fyi&lt;/a&gt;! Do mind your step.&lt;/p&gt;
&lt;p&gt;The purpose of this blog is two-fold, in order of importance:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;to record my musings and learnings;&lt;/li&gt;
&lt;li&gt;to share my thoughts with others.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;While we&amp;rsquo;re here, let&amp;rsquo;s take care of some other housekeeping items:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Scope:&lt;/strong&gt; the scope of the blog includes anything that catches my interest, though I expect most posts to be technically oriented and related to my academic and professional interests.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Schedule:&lt;/strong&gt; the blog will have no schedule; I will write things as they come, at their own pace.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ads:&lt;/strong&gt; this blog will have no ads or affiliate links (though I may link to things that I like just &lt;em&gt;because&lt;/em&gt; I like them).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More broadly and in no particular order, I want my corner of the web to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;be a domain of my own where I can &lt;em&gt;create&lt;/em&gt;;&lt;/li&gt;
&lt;li&gt;be a place where I can polish and curate my thoughts;&lt;/li&gt;
&lt;li&gt;have a quirky, chill, and thoughtful ambiance.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;steps-ahead&#34;&gt;Steps Ahead&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;ve been wanting to do this blog for a long time!
Somehow, it feels like it has taken longer than it should (which is a sentiment I feel about a lot of things in life).
In the midst of that, this passage from the Bible has always been an encouragement to me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A man’s heart plans his way,&lt;br&gt;
But the Lord directs his steps.&lt;/p&gt;
&lt;p&gt;Proverbs 16:9&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No matter how long you join me on this journey, I&amp;rsquo;m glad to have you!&lt;/p&gt;
</description>
    </item>
    
    
    
    
  </channel>
</rss>
